<div dir="rtl">

# چطور تونستم مشکل WSL2 رو حل کنم؟ (قسمت اول)

![banner](./images/virgool-post.png)

# مقدمه

نمیدونم اینجا آیا کسی هست که مثل من دنیای لینوکس رو با طمع مایکروسافت چشیده باشه؟ شاید لینوکس بازهای حرفه ای بگن عجب طمع تلخ و بدمزه ای اصلا چطور میشه توی یک دیس غذای مایکروسافت ور با لینوکس مخلوط کرد این یک توهین بزرگ به تمام مزه های جهان بود

اما من کسی بودم که فقط میگفت david david [microsoft](https://www.microsoft.com) و اصلا هیچ چیزی جز مایکروسافت توی کلش فرو نمیرفت تا اینکه یک روز بچه های ردموند به واقعیت قدرتمندی لینوکس اعتراف کردن و این شد که من از معجزه لینوکس و دنیای لینوکس آشنا شدم

امروز میخوام مثل همیشه که وقتی چیزی رو بلد میشم مثل مته توی مخم می افته و تا با کسی به اشتراک نزارم آروم نمیگیرم، مطالبم رو با شما به اشتراک بزارم

دوست دارم در دو قسمت از آسون به کمی سخت حرکت کنم تا دوستان مایکروسافتی از طمع دلنشین لینوکس در ویندوز غافل نمونن

ابتدا مسیر خودم رو با نصب WSL2 شروع میکنم و در نهایت به مسئله و چالش بزرگ حل تنها مشکل آزاردهنده لینوکس بر روی ویندوز میرم تا شما رو هم از شر این مشکل منحوس راحت کنم

## اصلا WSL یعنی چی؟

کلمه WSL مخفف `windows subsystem for linux` هست که به شما اجازه میده بتونید بر روی سیستم خودتون طمع لینوکس یا همون اوبونتو رو بچشید

و به همین دلیل به `WSL` معروف هست که در آخرین بیلد ویندوز یعنی 2004 شما میتونید ورژن 2 لینوکس با طمع ویندوز رو بچشید

ورژن دوم این WSL کاملا با نسخه اولیه متفاوت هست، در نسخه اولیه یک پرتابل لینوکس بر روی سیستم بود که به شما اجازه دسترسی به همه چیز رو نمیداد و یک چیز ناقص بود برای شروع حرکت مایکروسافت به سمت لینوکس

اما در ورژن دوم همه چیز متفاوت شد حالا شما یک کرنل کامل از لینوکس رو در اختیار دارید و به طرز عجیبی شما یک سیستم عامال رو بر روی ماشین مجازی نصب میکنید اما طمع تلخ ماشین مجازی رو به شما نمیده

همه ما میدونیم که ماشین های مجازی مشکلات متعددی رو در مصرف منابع دارن و از این رو خیلی ها به سمت ماشین مجازی نمیرن اما در لینوکس کاملا همه چیز برعکسه و انگار که نرم افزار ms paint رو بر روی سیستم خودتون ران کردید ( در این حد سبکه)

پس ما فهمیدیم که ورژن دوم `WSL` روی یک ماشین مجازی یا همون `Hyper-v` نصب میشه

بریم با همدیگه شروع به نصب لینوکس کنیم

## قدم اول چک کنید که ویندوز شما ورژن 2004 باشه

همه ما میدونیم که WSL2 از بیلد 2004 به بعد فعال میشه 

پس برای اینکار با فشردن کلید های ترکیبی `windows + r` پنجره `Run` رو باز کنید و بنویسید `winver` و اینتر کنید صفحه ای نمایان میشود و باید چیزی شبیه به ورژن پایین باشد

![modal to show windows version](./images/winVer.png)

اگر اینطور نیست سریعا اقدام به آپدیت دستگاه کنید که از طریق windows update اینکار قابل انجام هست

## قدم دوم تغییر نام host name ویندوز

لینوکس همیشه برای ارتباط با دستگاه دیگه از یک host name استفاده میکنه و حتی اون رو بر روی ترمینال شما پرینت میگیره به همین دلیل WSL از نام ویندوز استفاده میکنه

پس ابتدا وارد بخش زیر بشید و یک نام کاملا unique که در هیچ دیوایس دیگه ای استفاده نکردید رو به سیستم خودتون بدید و در نهایت از شما میخواد که سیستم رو ری استارت کنید

**اما شما اینکار رو نمیکنید**

پنجره `run` رو باز کنید (برای اینکار از کلید ترکیبی `windows + r` استفاده کنید)

![image of windows + r keyboard shortcut](./images/windowsR.png)

و حالا تایپ کنید `sysdm.cpl` و پنجره ای ظاهر میشه وارد تب computer name شوید و بر روی دکمه change که پایین سمت راست هست کلید کنید دوباره پنجره ای باز میشه در بخش computer name نام مورد نظر خودتون رو وارد کنید

> هیچ وقت یادتن نره که نامی رو که برای کامپیوتر خودتون انتخاب میکنید یک نام کاملا unique باید باشه و در هیچ دیوایس دیگه ای استفاده نکرده باشید

![modal for changing computer name](./images/computerName.png)

باز هم میگم پنجره کوچکی باز میشه که به شما اخطار میده برای ری استارت کردن شما این پنجره رو به حال خودش رها کنید و ضبدر نکنید اما ری استارت هم نکنید تا زمانی که من میگم



</div>